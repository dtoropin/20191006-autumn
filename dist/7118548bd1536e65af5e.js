(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{400:function(t,e,i){},476:function(t,e,i){"use strict";var n=i(400);i.n(n).a},647:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("section",{staticClass:"works"},[i("div",{staticClass:"container"},[t._m(0),t.isEdit?i("WorkEdit",{attrs:{title:t.title,techs:t.techs,photo:t.photo,link:t.link,description:t.description},on:{cancelEdit:t.cancelEdit,saveWork:t.saveWork}}):t._e(),i("div",{staticClass:"works__show"},[i("div",{staticClass:"works__card"},[i("NewCard",{attrs:{info:"Добавить работу"},on:{addNewCard:t.editorWork}})],1),t._l(t.works,function(e){return i("div",{key:e.id,staticClass:"works__card"},[i("Work",{attrs:{work:e},on:{deleteWork:t.deleteWork,editWork:t.editWork}})],1)})],2)],1)])};n._withStripped=!0;var o=i(136),s=i(39),r=i.n(s);function c(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){a(t,e,i[e])})}return t}function a(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}r.a.defaults.baseURL="https://webdev-api.loftschool.com/";var d=localStorage.getItem("token")||"";r.a.defaults.headers.Authorization="Bearer ".concat(d);var l={data:function(){return{title:"",techs:"",photo:"",link:"",description:"",id:0,isEdit:!1,isUpdate:!1}},computed:c({},Object(o.c)("works",{works:function(t){return t.works}})),methods:c({},Object(o.b)("works",["getWorks"]),{editorWork:function(){this.isEdit=!0},cancelEdit:function(){this.title="",this.techs="",this.photo="",this.link="",this.description="",this.id=0,this.isUpdate=!1,this.isEdit=!1},editWork:function(t){var e=this.works.filter(function(e){return e.id===t})[0];this.title=e.title,this.techs=e.techs,this.photo=e.photo,this.link=e.link,this.description=e.description,this.id=e.id,this.isEdit=!0,this.isUpdate=!0},saveWork:function(t){var e=this,i=this.isUpdate?"/".concat(this.id):"";r.a.post("/works"+i,t).then(function(t){e.getWorks()}).catch(function(t){console.error(t.response)})},deleteWork:function(t){var e=this;r.a.delete("/works/".concat(t)).then(function(t){e.getWorks()}).catch(function(t){console.error(t.response)})}}),components:{WorkEdit:function(){return i.e(16).then(i.bind(null,654))},NewCard:function(){return i.e(1).then(i.bind(null,655))},Work:function(){return Promise.all([i.e(7),i.e(15)]).then(i.bind(null,644))}},created:function(){this.getWorks()}},h=(i(476),i(342)),u=Object(h.a)(l,n,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"works__header"},[e("h2",{staticClass:"section-title"},[this._v("Блок «Работы»")])])}],!1,null,"f8e15c12",null);u.options.__file="src/admin/components/pages/Works.vue";e.default=u.exports}}]);