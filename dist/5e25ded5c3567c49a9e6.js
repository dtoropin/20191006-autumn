(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{401:function(t,e,n){},477:function(t,e,n){"use strict";var o=n(401);n.n(o).a},645:function(t,e,n){"use strict";n.r(e);var o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"comments"},[n("div",{staticClass:"container"},[t._m(0),t.isEdit?n("div",{staticClass:"comments__block"},[n("h3",{staticClass:"comments__title"},[t._v("Новый отзыв")]),n("CommentEdit",{attrs:{photo:t.photo,author:t.author,occ:t.occ,text:t.text},on:{cancelEdit:t.cancelEdit,saveComment:t.saveComment}})],1):t._e(),n("div",{staticClass:"comments__show"},[n("div",{staticClass:"comments__card"},[n("NewCard",{attrs:{info:"Добавить отзыв"},on:{addNewCard:t.editorComment}})],1),t._l(t.comments,function(e){return n("div",{key:e.id,staticClass:"comments__card"},[n("Comment",{attrs:{comment:e},on:{deleteComment:t.deleteComment,editComment:t.editComment}})],1)})],2)])])};o._withStripped=!0;var i=n(136),s=n(39),c=n.n(s);function r(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},o=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(o=o.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),o.forEach(function(e){a(t,e,n[e])})}return t}function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}c.a.defaults.baseURL="https://webdev-api.loftschool.com/";var m=localStorage.getItem("token")||"";c.a.defaults.headers.Authorization="Bearer ".concat(m);var u={data:function(){return{photo:"",author:"",occ:"",text:"",id:0,isEdit:!1,isUpdate:!1}},computed:r({},Object(i.c)("comments",{comments:function(t){return t.comments}})),components:{NewCard:function(){return n.e(1).then(n.bind(null,655))},CommentEdit:function(){return n.e(9).then(n.bind(null,656))},Comment:function(){return n.e(10).then(n.bind(null,653))}},methods:r({},Object(i.b)("comments",["getComments"]),{editorComment:function(){this.isEdit=!0},cancelEdit:function(){this.photo="",this.author="",this.occ="",this.text="",this.id=0,this.isUpdate=!1,this.isEdit=!1},saveComment:function(t){var e=this,n=this.isUpdate?"/".concat(this.id):"";c.a.post("/reviews"+n,t).then(function(t){e.getComments()}).catch(function(t){console.error(t.response)})},editComment:function(t){var e=this.comments.filter(function(e){return e.id===t})[0];this.photo=e.photo,this.author=e.author,this.occ=e.occ,this.text=e.text,this.id=e.id,this.isEdit=!0,this.isUpdate=!0},deleteComment:function(t){var e=this;c.a.delete("/reviews/".concat(t)).then(function(t){e.getComments()}).catch(function(t){console.error(t.response)})}}),created:function(){this.getComments()}},d=(n(477),n(342)),h=Object(d.a)(u,o,[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"comments__header"},[e("h2",{staticClass:"section-title"},[this._v("Блок «Отзывы»")])])}],!1,null,"142d588f",null);h.options.__file="src/admin/components/pages/Comments.vue";e.default=h.exports}}]);